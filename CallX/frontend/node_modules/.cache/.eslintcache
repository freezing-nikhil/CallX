[{"C:\\Users\\Nikita\\OneDrive\\Desktop\\Nik\\CallX\\frontend\\src\\index.js":"1","C:\\Users\\Nikita\\OneDrive\\Desktop\\Nik\\CallX\\frontend\\src\\reportWebVitals.js":"2","C:\\Users\\Nikita\\OneDrive\\Desktop\\Nik\\CallX\\frontend\\src\\App.js":"3","C:\\Users\\Nikita\\OneDrive\\Desktop\\Nik\\CallX\\frontend\\src\\store\\index.js":"4","C:\\Users\\Nikita\\OneDrive\\Desktop\\Nik\\CallX\\frontend\\src\\hooks\\useLoadingWithRefresh.js":"5","C:\\Users\\Nikita\\OneDrive\\Desktop\\Nik\\CallX\\frontend\\src\\components\\shared\\Loader\\Loader.js":"6","C:\\Users\\Nikita\\OneDrive\\Desktop\\Nik\\CallX\\frontend\\src\\pages\\Authenticate\\Authenticate.jsx":"7","C:\\Users\\Nikita\\OneDrive\\Desktop\\Nik\\CallX\\frontend\\src\\pages\\Activate\\Activate.jsx":"8","C:\\Users\\Nikita\\OneDrive\\Desktop\\Nik\\CallX\\frontend\\src\\pages\\Home\\Home.jsx":"9","C:\\Users\\Nikita\\OneDrive\\Desktop\\Nik\\CallX\\frontend\\src\\pages\\Rooms\\Rooms.jsx":"10","C:\\Users\\Nikita\\OneDrive\\Desktop\\Nik\\CallX\\frontend\\src\\pages\\Room\\Room.jsx":"11","C:\\Users\\Nikita\\OneDrive\\Desktop\\Nik\\CallX\\frontend\\src\\components\\shared\\Navigation\\Navigation.jsx":"12","C:\\Users\\Nikita\\OneDrive\\Desktop\\Nik\\CallX\\frontend\\src\\store\\activateSlice.js":"13","C:\\Users\\Nikita\\OneDrive\\Desktop\\Nik\\CallX\\frontend\\src\\store\\authSlice.js":"14","C:\\Users\\Nikita\\OneDrive\\Desktop\\Nik\\CallX\\frontend\\src\\hooks\\useWebRTC.js":"15","C:\\Users\\Nikita\\OneDrive\\Desktop\\Nik\\CallX\\frontend\\src\\components\\shared\\Card\\Card.jsx":"16","C:\\Users\\Nikita\\OneDrive\\Desktop\\Nik\\CallX\\frontend\\src\\components\\AddRoomModal\\AddRoomModal.jsx":"17","C:\\Users\\Nikita\\OneDrive\\Desktop\\Nik\\CallX\\frontend\\src\\components\\shared\\Button\\Button.jsx":"18","C:\\Users\\Nikita\\OneDrive\\Desktop\\Nik\\CallX\\frontend\\src\\components\\RoomCard\\RoomCard.jsx":"19","C:\\Users\\Nikita\\OneDrive\\Desktop\\Nik\\CallX\\frontend\\src\\pages\\Steps\\StepOtp\\StepOtp.jsx":"20","C:\\Users\\Nikita\\OneDrive\\Desktop\\Nik\\CallX\\frontend\\src\\pages\\Steps\\StepAvatar\\StepAvatar.jsx":"21","C:\\Users\\Nikita\\OneDrive\\Desktop\\Nik\\CallX\\frontend\\src\\pages\\Steps\\StepPhoneEmail\\StepPhoneEmail.jsx":"22","C:\\Users\\Nikita\\OneDrive\\Desktop\\Nik\\CallX\\frontend\\src\\pages\\Steps\\StepName\\StepName.jsx":"23","C:\\Users\\Nikita\\OneDrive\\Desktop\\Nik\\CallX\\frontend\\src\\http\\index.js":"24","C:\\Users\\Nikita\\OneDrive\\Desktop\\Nik\\CallX\\frontend\\src\\actions.js":"25","C:\\Users\\Nikita\\OneDrive\\Desktop\\Nik\\CallX\\frontend\\src\\hooks\\useStateWithCallback.js":"26","C:\\Users\\Nikita\\OneDrive\\Desktop\\Nik\\CallX\\frontend\\src\\components\\shared\\TextInput\\TextInput.jsx":"27","C:\\Users\\Nikita\\OneDrive\\Desktop\\Nik\\CallX\\frontend\\src\\pages\\Steps\\StepPhoneEmail\\Email\\Email.jsx":"28","C:\\Users\\Nikita\\OneDrive\\Desktop\\Nik\\CallX\\frontend\\src\\pages\\Steps\\StepPhoneEmail\\Phone\\Phone.jsx":"29","C:\\Users\\Nikita\\OneDrive\\Desktop\\Nik\\CallX\\frontend\\src\\socket\\index.js":"30"},{"size":406,"mtime":1645905682000,"results":"31","hashOfConfig":"32"},{"size":362,"mtime":1645905682000,"results":"33","hashOfConfig":"32"},{"size":3653,"mtime":1768831472825,"results":"34","hashOfConfig":"32"},{"size":220,"mtime":1645905682000,"results":"35","hashOfConfig":"32"},{"size":809,"mtime":1768810379492,"results":"36","hashOfConfig":"32"},{"size":1036,"mtime":1645905682000,"results":"37","hashOfConfig":"32"},{"size":447,"mtime":1645905682000,"results":"38","hashOfConfig":"32"},{"size":504,"mtime":1645905682000,"results":"39","hashOfConfig":"32"},{"size":1301,"mtime":1768799677752,"results":"40","hashOfConfig":"32"},{"size":3929,"mtime":1645905682000,"results":"41","hashOfConfig":"32"},{"size":4429,"mtime":1645905682000,"results":"42","hashOfConfig":"32"},{"size":2065,"mtime":1768799461868,"results":"43","hashOfConfig":"32"},{"size":501,"mtime":1645905682000,"results":"44","hashOfConfig":"32"},{"size":859,"mtime":1768800152310,"results":"45","hashOfConfig":"32"},{"size":9411,"mtime":1768831628989,"results":"46","hashOfConfig":"32"},{"size":450,"mtime":1768816008168,"results":"47","hashOfConfig":"32"},{"size":3349,"mtime":1645905682000,"results":"48","hashOfConfig":"32"},{"size":415,"mtime":1645905682000,"results":"49","hashOfConfig":"32"},{"size":1679,"mtime":1645905682000,"results":"50","hashOfConfig":"32"},{"size":2307,"mtime":1768800748321,"results":"51","hashOfConfig":"32"},{"size":2855,"mtime":1768828281886,"results":"52","hashOfConfig":"32"},{"size":1473,"mtime":1645905682000,"results":"53","hashOfConfig":"32"},{"size":1262,"mtime":1768839486878,"results":"54","hashOfConfig":"32"},{"size":1549,"mtime":1768831535064,"results":"55","hashOfConfig":"32"},{"size":332,"mtime":1645905682000,"results":"56","hashOfConfig":"32"},{"size":597,"mtime":1645905682000,"results":"57","hashOfConfig":"32"},{"size":433,"mtime":1645905682000,"results":"58","hashOfConfig":"32"},{"size":1958,"mtime":1768800438790,"results":"59","hashOfConfig":"32"},{"size":1461,"mtime":1645905682000,"results":"60","hashOfConfig":"32"},{"size":315,"mtime":1768840634529,"results":"61","hashOfConfig":"32"},{"filePath":"62","messages":"63","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"64"},"w14yue",{"filePath":"65","messages":"66","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"64"},{"filePath":"67","messages":"68","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"64"},{"filePath":"69","messages":"70","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"64"},{"filePath":"71","messages":"72","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"73","usedDeprecatedRules":"64"},{"filePath":"74","messages":"75","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"64"},{"filePath":"76","messages":"77","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"64"},{"filePath":"78","messages":"79","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"64"},{"filePath":"80","messages":"81","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"82","usedDeprecatedRules":"64"},{"filePath":"83","messages":"84","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"64"},{"filePath":"85","messages":"86","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"87","usedDeprecatedRules":"64"},{"filePath":"88","messages":"89","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"64"},{"filePath":"90","messages":"91","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"64"},{"filePath":"92","messages":"93","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"64"},{"filePath":"94","messages":"95","errorCount":0,"warningCount":4,"fixableErrorCount":0,"fixableWarningCount":0,"source":"96","usedDeprecatedRules":"64"},{"filePath":"97","messages":"98","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"64"},{"filePath":"99","messages":"100","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"64"},{"filePath":"101","messages":"102","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"64"},{"filePath":"103","messages":"104","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"64"},{"filePath":"105","messages":"106","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"64"},{"filePath":"107","messages":"108","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"109","usedDeprecatedRules":"64"},{"filePath":"110","messages":"111","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"64"},{"filePath":"112","messages":"113","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"64"},{"filePath":"114","messages":"115","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"64"},{"filePath":"116","messages":"117","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"64"},{"filePath":"118","messages":"119","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"64"},{"filePath":"120","messages":"121","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"64"},{"filePath":"122","messages":"123","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"64"},{"filePath":"124","messages":"125","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"64"},{"filePath":"126","messages":"127","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},"C:\\Users\\Nikita\\OneDrive\\Desktop\\Nik\\CallX\\frontend\\src\\index.js",[],["128","129"],"C:\\Users\\Nikita\\OneDrive\\Desktop\\Nik\\CallX\\frontend\\src\\reportWebVitals.js",[],"C:\\Users\\Nikita\\OneDrive\\Desktop\\Nik\\CallX\\frontend\\src\\App.js",[],"C:\\Users\\Nikita\\OneDrive\\Desktop\\Nik\\CallX\\frontend\\src\\store\\index.js",[],"C:\\Users\\Nikita\\OneDrive\\Desktop\\Nik\\CallX\\frontend\\src\\hooks\\useLoadingWithRefresh.js",["130"],"import { useState, useEffect } from 'react';\nimport axios from 'axios';\nimport { useDispatch } from 'react-redux';\nimport { setAuth } from '../store/authSlice';\nexport function useLoadingWithRefresh() {\n    const [loading, setLoading] = useState(true);\n    const dispatch = useDispatch();\n    useEffect(() => {\n        (async () => {\n            try {\n                const { data } = await axios.get(\n                    \"http://localhost:5500/api/refresh\",\n                    {\n                        withCredentials: true,\n                    }\n                );\n                dispatch(setAuth(data));\n                setLoading(false);\n            } catch (err) {\n                console.log(err);\n                setLoading(false);\n            }\n        })();\n    }, []);\n\n    return { loading };\n}\n","C:\\Users\\Nikita\\OneDrive\\Desktop\\Nik\\CallX\\frontend\\src\\components\\shared\\Loader\\Loader.js",[],"C:\\Users\\Nikita\\OneDrive\\Desktop\\Nik\\CallX\\frontend\\src\\pages\\Authenticate\\Authenticate.jsx",[],"C:\\Users\\Nikita\\OneDrive\\Desktop\\Nik\\CallX\\frontend\\src\\pages\\Activate\\Activate.jsx",[],"C:\\Users\\Nikita\\OneDrive\\Desktop\\Nik\\CallX\\frontend\\src\\pages\\Home\\Home.jsx",["131","132"],"import React from 'react';\nimport styles from './Home.module.css';\nimport { Link, useHistory } from 'react-router-dom';\nimport Card from '../../components/shared/Card/Card';\nimport Button from '../../components/shared/Button/Button';\n\nconst Home = () => {\n    const signInLinkStyle = {\n        color: '#0077ff',\n        fontWeight: 'bold',\n        textDecoration: 'none',\n        marginLeft: '10px',\n    };\n    const history = useHistory();\n    function startRegister() {\n        history.push('/authenticate');\n    }\n    return (\n        <div className={styles.cardWrapper}>\n            <Card title=\"Welcome to CallX!\" icon=\"logo\">\n                <p className={styles.text}>\n                    We’re working hard to get CallX ready for everyone!\n                    While we wrap up the finishing youches, we’re adding people\n                    gradually to make sure nothing breaks\n                </p>\n                <div>\n                    <Button onClick={startRegister} text=\"Let's Go\" />\n                </div>\n                <div className={styles.signinWrapper}>\n                    <span className={styles.hasInvite}>\n                        Have an invite text?\n                    </span>\n                </div>\n            </Card>\n        </div>\n    );\n};\n\nexport default Home;\n","C:\\Users\\Nikita\\OneDrive\\Desktop\\Nik\\CallX\\frontend\\src\\pages\\Rooms\\Rooms.jsx",[],"C:\\Users\\Nikita\\OneDrive\\Desktop\\Nik\\CallX\\frontend\\src\\pages\\Room\\Room.jsx",["133"],"import React, { useState, useEffect } from 'react';\nimport { useSelector } from 'react-redux';\nimport { useWebRTC } from '../../hooks/useWebRTC';\nimport { useParams, useHistory } from 'react-router-dom';\nimport { getRoom } from '../../http';\n\nimport styles from './Room.module.css';\n\nconst Room = () => {\n    const user = useSelector((state) => state.auth.user);\n    const { id: roomId } = useParams();\n    const [room, setRoom] = useState(null);\n\n    const { clients, provideRef, handleMute } = useWebRTC(roomId, user);\n\n    const history = useHistory();\n\n    const [isMuted, setMuted] = useState(true);\n\n    useEffect(() => {\n        const fetchRoom = async () => {\n            const { data } = await getRoom(roomId);\n            setRoom((prev) => data);\n        };\n\n        fetchRoom();\n    }, [roomId]);\n\n    useEffect(() => {\n        handleMute(isMuted, user.id);\n    }, [isMuted]);\n\n    const handManualLeave = () => {\n        history.push('/rooms');\n    };\n\n    const handleMuteClick = (clientId) => {\n        if (clientId !== user.id) {\n            return;\n        }\n        setMuted((prev) => !prev);\n    };\n\n    return (\n        <div>\n            <div className=\"container\">\n                <button onClick={handManualLeave} className={styles.goBack}>\n                    <img src=\"/images/arrow-left.png\" alt=\"arrow-left\" />\n                    <span>All voice rooms</span>\n                </button>\n            </div>\n            <div className={styles.clientsWrap}>\n                <div className={styles.header}>\n                    {room && <h2 className={styles.topic}>{room.topic}</h2>}\n                    <div className={styles.actions}>\n                        <button className={styles.actionBtn}>\n                            <img src=\"/images/palm.png\" alt=\"palm-icon\" />\n                        </button>\n                        <button\n                            onClick={handManualLeave}\n                            className={styles.actionBtn}\n                        >\n                            <img src=\"/images/win.png\" alt=\"win-icon\" />\n                            <span>Leave quietly</span>\n                        </button>\n                    </div>\n                </div>\n                <div className={styles.clientsList}>\n                    {clients.map((client) => {\n                        return (\n                            <div className={styles.client} key={client.id}>\n                                <div className={styles.userHead}>\n                                    <img\n                                        className={styles.userAvatar}\n                                        src={client.avatar}\n                                        alt=\"\"\n                                    />\n                                    <audio\n                                        autoPlay\n                                        ref={(instance) => {\n                                            provideRef(instance, client.id);\n                                        }}\n                                    />\n                                    <button\n                                        onClick={() =>\n                                            handleMuteClick(client.id)\n                                        }\n                                        className={styles.micBtn}\n                                    >\n                                        {client.muted ? (\n                                            <img\n                                                className={styles.mic}\n                                                src=\"/images/mic-mute.png\"\n                                                alt=\"mic\"\n                                            />\n                                        ) : (\n                                            <img\n                                                className={styles.micImg}\n                                                src=\"/images/mic.png\"\n                                                alt=\"mic\"\n                                            />\n                                        )}\n                                    </button>\n                                </div>\n                                <h4>{client.name}</h4>\n                            </div>\n                        );\n                    })}\n                </div>\n            </div>\n        </div>\n    );\n};\n\nexport default Room;\n","C:\\Users\\Nikita\\OneDrive\\Desktop\\Nik\\CallX\\frontend\\src\\components\\shared\\Navigation\\Navigation.jsx",[],"C:\\Users\\Nikita\\OneDrive\\Desktop\\Nik\\CallX\\frontend\\src\\store\\activateSlice.js",[],"C:\\Users\\Nikita\\OneDrive\\Desktop\\Nik\\CallX\\frontend\\src\\store\\authSlice.js",[],"C:\\Users\\Nikita\\OneDrive\\Desktop\\Nik\\CallX\\frontend\\src\\hooks\\useWebRTC.js",["134","135","136","137"],"import { useEffect, useState, useRef, useCallback } from 'react';\nimport { ACTIONS } from '../actions';\nimport socketInit from '../socket';\nimport freeice from 'freeice';\nimport { useStateWithCallback } from './useStateWithCallback';\n\nexport const useWebRTC = (roomId, user) => {\n    const [clients, setClients] = useStateWithCallback([]);\n    const audioElements = useRef({});\n    const connections = useRef({});\n    const socket = useRef(null);\n    const localMediaStream = useRef(null);\n    const clientsRef = useRef(null);\n\n    const addNewClient = useCallback(\n        (newClient, cb) => {\n            const lookingFor = clients.find(\n                (client) => client.id === newClient.id\n            );\n\n            if (lookingFor === undefined) {\n                setClients(\n                    (existingClients) => [...existingClients, newClient],\n                    cb\n                );\n            }\n        },\n        [clients, setClients]\n    );\n\n    useEffect(() => {\n        clientsRef.current = clients;\n    }, [clients]);\n\n    useEffect(() => {\n        const initChat = async () => {\n            socket.current = socketInit();\n            await captureMedia();\n            addNewClient({ ...user, muted: true }, () => {\n                const localElement = audioElements.current[user.id];\n                if (localElement) {\n                    localElement.volume = 0;\n                    localElement.srcObject = localMediaStream.current;\n                }\n            });\n            socket.current.on(ACTIONS.MUTE_INFO, ({ userId, isMute }) => {\n                handleSetMute(isMute, userId);\n            });\n\n            socket.current.on(ACTIONS.ADD_PEER, handleNewPeer);\n            socket.current.on(ACTIONS.REMOVE_PEER, handleRemovePeer);\n            socket.current.on(ACTIONS.ICE_CANDIDATE, handleIceCandidate);\n            socket.current.on(ACTIONS.SESSION_DESCRIPTION, setRemoteMedia);\n            socket.current.on(ACTIONS.MUTE, ({ peerId, userId }) => {\n                handleSetMute(true, userId);\n            });\n            socket.current.on(ACTIONS.UNMUTE, ({ peerId, userId }) => {\n                handleSetMute(false, userId);\n            });\n            socket.current.emit(ACTIONS.JOIN, {\n                roomId,\n                user,\n            });\n\n            async function captureMedia() {\n\n                localMediaStream.current =\n                    await navigator.mediaDevices.getUserMedia({\n                        audio: true,\n                    });\n            }\n            async function handleNewPeer({\n                peerId,\n                createOffer,\n                user: remoteUser,\n            }) {\n                if (peerId in connections.current) {\n                    return console.warn(\n                        `You are already connected with ${peerId} (${user.name})`\n                    );\n                }\n\n\n                connections.current[peerId] = new RTCPeerConnection({\n                    iceServers: freeice(),\n                });\n\n                connections.current[peerId].onicecandidate = (event) => {\n                    socket.current.emit(ACTIONS.RELAY_ICE, {\n                        peerId,\n                        icecandidate: event.candidate,\n                    });\n                };\n\n                connections.current[peerId].ontrack = ({\n                    streams: [remoteStream],\n                }) => {\n                    addNewClient({ ...remoteUser, muted: true }, () => {\n                        const currentUser = clientsRef.current.find(\n                            (client) => client.id === user.id\n                        );\n                        if (currentUser) {\n                            socket.current.emit(ACTIONS.MUTE_INFO, {\n                                userId: user.id,\n                                roomId,\n                                isMute: currentUser.muted,\n                            });\n                        }\n                        if (audioElements.current[remoteUser.id]) {\n                            audioElements.current[remoteUser.id].srcObject =\n                                remoteStream;\n                        } else {\n                            let settled = false;\n                            const interval = setInterval(() => {\n                                if (audioElements.current[remoteUser.id]) {\n                                    audioElements.current[\n                                        remoteUser.id\n                                    ].srcObject = remoteStream;\n                                    settled = true;\n                                }\n\n                                if (settled) {\n                                    clearInterval(interval);\n                                }\n                            }, 300);\n                        }\n                    });\n                };\n\n\n                localMediaStream.current.getTracks().forEach((track) => {\n                    connections.current[peerId].addTrack(\n                        track,\n                        localMediaStream.current\n                    );\n                });\n\n                if (createOffer) {\n                    const offer = await connections.current[\n                        peerId\n                    ].createOffer();\n\n\n                    await connections.current[peerId].setLocalDescription(\n                        offer\n                    );\n\n\n                    socket.current.emit(ACTIONS.RELAY_SDP, {\n                        peerId,\n                        sessionDescription: offer,\n                    });\n                }\n            }\n            async function handleRemovePeer({ peerId, userId }) {\n\n                if (connections.current[peerId]) {\n                    connections.current[peerId].close();\n                }\n\n                delete connections.current[peerId];\n                delete audioElements.current[peerId];\n                setClients((list) => list.filter((c) => c.id !== userId));\n            }\n            async function handleIceCandidate({ peerId, icecandidate }) {\n                if (icecandidate) {\n                    connections.current[peerId].addIceCandidate(icecandidate);\n                }\n            }\n            async function setRemoteMedia({\n                peerId,\n                sessionDescription: remoteSessionDescription,\n            }) {\n                connections.current[peerId].setRemoteDescription(\n                    new RTCSessionDescription(remoteSessionDescription)\n                );\n\n\n                if (remoteSessionDescription.type === 'offer') {\n                    const connection = connections.current[peerId];\n\n                    const answer = await connection.createAnswer();\n                    connection.setLocalDescription(answer);\n\n                    socket.current.emit(ACTIONS.RELAY_SDP, {\n                        peerId,\n                        sessionDescription: answer,\n                    });\n                }\n            }\n            async function handleSetMute(mute, userId) {\n                const clientIdx = clientsRef.current\n                    .map((client) => client.id)\n                    .indexOf(userId);\n                const allConnectedClients = JSON.parse(\n                    JSON.stringify(clientsRef.current)\n                );\n                if (clientIdx > -1) {\n                    allConnectedClients[clientIdx].muted = mute;\n                    setClients(allConnectedClients);\n                }\n            }\n        };\n\n        initChat();\n        return () => {\n            localMediaStream.current\n                .getTracks()\n                .forEach((track) => track.stop());\n            socket.current.emit(ACTIONS.LEAVE, { roomId });\n            for (let peerId in connections.current) {\n                connections.current[peerId].close();\n                delete connections.current[peerId];\n                delete audioElements.current[peerId];\n            }\n            socket.current.off(ACTIONS.ADD_PEER);\n            socket.current.off(ACTIONS.REMOVE_PEER);\n            socket.current.off(ACTIONS.ICE_CANDIDATE);\n            socket.current.off(ACTIONS.SESSION_DESCRIPTION);\n            socket.current.off(ACTIONS.MUTE);\n            socket.current.off(ACTIONS.UNMUTE);\n        };\n    }, []);\n\n    const provideRef = (instance, userId) => {\n        audioElements.current[userId] = instance;\n    };\n\n    const handleMute = (isMute, userId) => {\n        let settled = false;\n\n        if (userId === user.id) {\n            let interval = setInterval(() => {\n                if (localMediaStream.current) {\n                    localMediaStream.current.getTracks()[0].enabled = !isMute;\n                    if (isMute) {\n                        socket.current.emit(ACTIONS.MUTE, {\n                            roomId,\n                            userId: user.id,\n                        });\n                    } else {\n                        socket.current.emit(ACTIONS.UNMUTE, {\n                            roomId,\n                            userId: user.id,\n                        });\n                    }\n                    settled = true;\n                }\n                if (settled) {\n                    clearInterval(interval);\n                }\n            }, 200);\n        }\n    };\n\n    return {\n        clients,\n        provideRef,\n        handleMute,\n    };\n};\n","C:\\Users\\Nikita\\OneDrive\\Desktop\\Nik\\CallX\\frontend\\src\\components\\shared\\Card\\Card.jsx",[],"C:\\Users\\Nikita\\OneDrive\\Desktop\\Nik\\CallX\\frontend\\src\\components\\AddRoomModal\\AddRoomModal.jsx",[],"C:\\Users\\Nikita\\OneDrive\\Desktop\\Nik\\CallX\\frontend\\src\\components\\shared\\Button\\Button.jsx",[],"C:\\Users\\Nikita\\OneDrive\\Desktop\\Nik\\CallX\\frontend\\src\\components\\RoomCard\\RoomCard.jsx",[],"C:\\Users\\Nikita\\OneDrive\\Desktop\\Nik\\CallX\\frontend\\src\\pages\\Steps\\StepOtp\\StepOtp.jsx",[],"C:\\Users\\Nikita\\OneDrive\\Desktop\\Nik\\CallX\\frontend\\src\\pages\\Steps\\StepAvatar\\StepAvatar.jsx",["138"],"import React, { useState, useEffect } from 'react';\nimport Card from '../../../components/shared/Card/Card';\nimport Button from '../../../components/shared/Button/Button';\nimport styles from './StepAvatar.module.css';\nimport { useSelector, useDispatch } from 'react-redux';\nimport { setAvatar } from '../../../store/activateSlice';\nimport { activate } from '../../../http';\nimport { setAuth } from '../../../store/authSlice';\nimport Loader from '../../../components/shared/Loader/Loader';\nimport { Link, useHistory } from 'react-router-dom';\n\nconst StepAvatar = ({ onNext }) => {\n    const dispatch = useDispatch();\n    const { name, avatar } = useSelector((state) => state.activate);\n    const [image, setImage] = useState('/images/monkey-avatar.png');\n    const [loading, setLoading] = useState(false);\n    const [unMounted, setUnMounted] = useState(false);\n    const history = useHistory();\n    function captureImage(e) {\n    \n        const file = e.target.files[0];\n        const reader = new FileReader();\n        reader.readAsDataURL(file);\n        reader.onloadend = function () {\n            setImage(reader.result);\n            dispatch(setAvatar(reader.result));\n        };\n    }\n    async function submit() {\n        if (!name || !avatar) return;\n        setLoading(true);\n        try {\n            const { data } = await activate({ name, avatar });\n            if (data.auth) {\n                if (!unMounted) {\n                    dispatch(setAuth(data));\n                }\n            }\n            history.push('/rooms');\n        } catch (err) {\n            console.log(err);\n        } finally {\n            setLoading(false);\n        }\n    }\n\n    useEffect(() => {\n        return () => {\n            setUnMounted(true);\n        };\n    }, []);\n\n    if (loading) return <Loader message=\"Activation in progress...\" />;\n    return (\n        <>\n            <Card title={`Okay, ${name}`} icon=\"monkey-emoji\">\n                <p className={styles.subHeading}>How’s this photo?</p>\n                <div className={styles.avatarWrapper}>\n                    <img\n                        className={styles.avatarImage}\n                        src={image}\n                        alt=\"avatar\"\n                    />\n                </div>\n                <div>\n                    <input\n                        onChange={captureImage}\n                        id=\"avatarInput\"\n                        type=\"file\"\n                        className={styles.avatarInput}\n                    />\n                    <label className={styles.avatarLabel} htmlFor=\"avatarInput\">\n                        Choose a different photo\n                    </label>\n                </div>\n                <div>\n                    <Button onClick={submit} text=\"Next\" />\n                </div>\n            </Card>\n        </>\n    );\n};\n\nexport default StepAvatar;\n","C:\\Users\\Nikita\\OneDrive\\Desktop\\Nik\\CallX\\frontend\\src\\pages\\Steps\\StepPhoneEmail\\StepPhoneEmail.jsx",[],"C:\\Users\\Nikita\\OneDrive\\Desktop\\Nik\\CallX\\frontend\\src\\pages\\Steps\\StepName\\StepName.jsx",[],"C:\\Users\\Nikita\\OneDrive\\Desktop\\Nik\\CallX\\frontend\\src\\http\\index.js",[],"C:\\Users\\Nikita\\OneDrive\\Desktop\\Nik\\CallX\\frontend\\src\\actions.js",[],"C:\\Users\\Nikita\\OneDrive\\Desktop\\Nik\\CallX\\frontend\\src\\hooks\\useStateWithCallback.js",[],"C:\\Users\\Nikita\\OneDrive\\Desktop\\Nik\\CallX\\frontend\\src\\components\\shared\\TextInput\\TextInput.jsx",[],"C:\\Users\\Nikita\\OneDrive\\Desktop\\Nik\\CallX\\frontend\\src\\pages\\Steps\\StepPhoneEmail\\Email\\Email.jsx",[],"C:\\Users\\Nikita\\OneDrive\\Desktop\\Nik\\CallX\\frontend\\src\\pages\\Steps\\StepPhoneEmail\\Phone\\Phone.jsx",[],"C:\\Users\\Nikita\\OneDrive\\Desktop\\Nik\\CallX\\frontend\\src\\socket\\index.js",[],{"ruleId":"139","replacedBy":"140"},{"ruleId":"141","replacedBy":"142"},{"ruleId":"143","severity":1,"message":"144","line":24,"column":8,"nodeType":"145","endLine":24,"endColumn":10,"suggestions":"146"},{"ruleId":"147","severity":1,"message":"148","line":3,"column":10,"nodeType":"149","messageId":"150","endLine":3,"endColumn":14},{"ruleId":"147","severity":1,"message":"151","line":8,"column":11,"nodeType":"149","messageId":"150","endLine":8,"endColumn":26},{"ruleId":"143","severity":1,"message":"152","line":31,"column":8,"nodeType":"145","endLine":31,"endColumn":17,"suggestions":"153"},{"ruleId":"147","severity":1,"message":"154","line":1,"column":21,"nodeType":"149","messageId":"150","endLine":1,"endColumn":29},{"ruleId":"143","severity":1,"message":"155","line":213,"column":36,"nodeType":"149","endLine":213,"endColumn":43},{"ruleId":"143","severity":1,"message":"156","line":214,"column":38,"nodeType":"149","endLine":214,"endColumn":45},{"ruleId":"143","severity":1,"message":"157","line":223,"column":8,"nodeType":"145","endLine":223,"endColumn":10,"suggestions":"158"},{"ruleId":"147","severity":1,"message":"148","line":10,"column":10,"nodeType":"149","messageId":"150","endLine":10,"endColumn":14},"no-native-reassign",["159"],"no-negated-in-lhs",["160"],"react-hooks/exhaustive-deps","React Hook useEffect has a missing dependency: 'dispatch'. Either include it or remove the dependency array.","ArrayExpression",["161"],"no-unused-vars","'Link' is defined but never used.","Identifier","unusedVar","'signInLinkStyle' is assigned a value but never used.","React Hook useEffect has missing dependencies: 'handleMute' and 'user.id'. Either include them or remove the dependency array.",["162"],"'useState' is defined but never used.","The ref value 'connections.current' will likely have changed by the time this effect cleanup function runs. If this ref points to a node rendered by React, copy 'connections.current' to a variable inside the effect, and use that variable in the cleanup function.","The ref value 'audioElements.current' will likely have changed by the time this effect cleanup function runs. If this ref points to a node rendered by React, copy 'audioElements.current' to a variable inside the effect, and use that variable in the cleanup function.","React Hook useEffect has missing dependencies: 'addNewClient', 'roomId', 'setClients', and 'user'. Either include them or remove the dependency array.",["163"],"no-global-assign","no-unsafe-negation",{"desc":"164","fix":"165"},{"desc":"166","fix":"167"},{"desc":"168","fix":"169"},"Update the dependencies array to be: [dispatch]",{"range":"170","text":"171"},"Update the dependencies array to be: [handleMute, isMuted, user.id]",{"range":"172","text":"173"},"Update the dependencies array to be: [addNewClient, roomId, setClients, user]",{"range":"174","text":"175"},[777,779],"[dispatch]",[876,885],"[handleMute, isMuted, user.id]",[8325,8327],"[addNewClient, roomId, setClients, user]"]