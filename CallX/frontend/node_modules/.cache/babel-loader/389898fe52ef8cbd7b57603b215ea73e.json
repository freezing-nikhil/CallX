{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Nikita\\\\OneDrive\\\\Desktop\\\\Nik\\\\CallX\\\\frontend\\\\src\\\\pages\\\\Steps\\\\StepPhoneEmail\\\\Email\\\\Email.jsx\",\n  _s = $RefreshSig$();\nimport React, { useState } from 'react';\nimport Card from '../../../../components/shared/Card/Card';\nimport Button from '../../../../components/shared/Button/Button';\nimport TextInput from '../../../../components/shared/TextInput/TextInput';\nimport styles from '../StepPhoneEmail.module.css';\nimport { sendOtp } from '../../../../http';\nimport { useDispatch } from 'react-redux';\nimport { setOtp } from '../../../../store/authSlice';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst Email = ({\n  onNext\n}) => {\n  _s();\n  const [email, setEmail] = useState('');\n  const [error, setError] = useState('');\n  const dispatch = useDispatch();\n  const emailRegex = /^[^\\s@]+@[^\\s@]+\\.[^\\s@]+$/;\n  async function submit() {\n    if (!email) {\n      setError('Email is required');\n      return;\n    }\n    if (!emailRegex.test(email)) {\n      setError('Please enter a valid email address');\n      return;\n    }\n    setError('');\n    const {\n      data\n    } = await sendOtp({\n      email\n    });\n    dispatch(setOtp({\n      email: data.email,\n      hash: data.hash\n    }));\n    onNext();\n  }\n  return /*#__PURE__*/_jsxDEV(Card, {\n    title: \"Enter your email id\",\n    icon: \"email\",\n    children: [/*#__PURE__*/_jsxDEV(TextInput, {\n      value: email,\n      onChange: e => {\n        setEmail(e.target.value);\n        setError('');\n      },\n      placeholder: \"example@gmail.com\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 44,\n      columnNumber: 13\n    }, this), error && /*#__PURE__*/_jsxDEV(\"p\", {\n      className: styles.error,\n      children: error\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 23\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: styles.actionButtonWrap,\n        children: /*#__PURE__*/_jsxDEV(Button, {\n          text: \"Next\",\n          onClick: submit\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 57,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 56,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        className: styles.bottomParagraph,\n        children: \"By entering your email, you\\u2019re agreeing to our Terms of Service and Privacy Policy. Thanks!\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 60,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 43,\n    columnNumber: 9\n  }, this);\n};\n_s(Email, \"4IeIPbQv72RSE7WOX9m/E3dhUIw=\", false, function () {\n  return [useDispatch];\n});\n_c = Email;\nexport default Email;\nvar _c;\n$RefreshReg$(_c, \"Email\");","map":{"version":3,"names":["React","useState","Card","Button","TextInput","styles","sendOtp","useDispatch","setOtp","jsxDEV","_jsxDEV","Email","onNext","_s","email","setEmail","error","setError","dispatch","emailRegex","submit","test","data","hash","title","icon","children","value","onChange","e","target","placeholder","fileName","_jsxFileName","lineNumber","columnNumber","className","actionButtonWrap","text","onClick","bottomParagraph","_c","$RefreshReg$"],"sources":["C:/Users/Nikita/OneDrive/Desktop/Nik/CallX/frontend/src/pages/Steps/StepPhoneEmail/Email/Email.jsx"],"sourcesContent":["import React, { useState } from 'react';\nimport Card from '../../../../components/shared/Card/Card';\nimport Button from '../../../../components/shared/Button/Button';\nimport TextInput from '../../../../components/shared/TextInput/TextInput';\nimport styles from '../StepPhoneEmail.module.css';\nimport { sendOtp } from '../../../../http';\nimport { useDispatch } from 'react-redux';\nimport { setOtp } from '../../../../store/authSlice';\n\nconst Email = ({ onNext }) => {\n    const [email, setEmail] = useState('');\n    const [error, setError] = useState('');\n    const dispatch = useDispatch();\n\n    const emailRegex = /^[^\\s@]+@[^\\s@]+\\.[^\\s@]+$/;\n\n    async function submit() {\n        if (!email) {\n            setError('Email is required');\n            return;\n        }\n\n        if (!emailRegex.test(email)) {\n            setError('Please enter a valid email address');\n            return;\n        }\n\n        setError('');\n\n        const { data } = await sendOtp({ email });\n\n        dispatch(\n            setOtp({\n                email: data.email,\n                hash: data.hash,\n            })\n        );\n\n        onNext();\n    }\n\n    return (\n        <Card title=\"Enter your email id\" icon=\"email\">\n            <TextInput\n                value={email}\n                onChange={(e) => {\n                    setEmail(e.target.value);\n                    setError('');\n                }}\n                placeholder=\"example@gmail.com\"\n            />\n\n            {error && <p className={styles.error}>{error}</p>}\n\n            <div>\n                <div className={styles.actionButtonWrap}>\n                    <Button text=\"Next\" onClick={submit} />\n                </div>\n\n                <p className={styles.bottomParagraph}>\n                    By entering your email, youâ€™re agreeing to our Terms of\n                    Service and Privacy Policy. Thanks!\n                </p>\n            </div>\n        </Card>\n    );\n};\n\nexport default Email;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module"}